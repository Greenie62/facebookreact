{"ast":null,"code":"var axios = require('axios');\n\nvar cheerio = require('cheerio');\n\nmodule.exports = {\n  getRandomProfile: function getRandomProfile() {\n    return axios.get(\"https://randomuser.me/api/\");\n  },\n  getListOfPeople: function getListOfPeople() {\n    return axios.get(\"https://randomuser.me/api/&results=10\");\n  },\n  // sendSite:function(site){\n  //     console.log(site)\n  //     this.scrapeArticles(site)\n  // },\n  scrapeArticles: function scrapeArticles(site, cb) {\n    console.log(\"site: \" + site);\n    var data = {\n      link: [],\n      image: []\n    };\n\n    switch (site) {\n      case \"climbing\":\n        return axios.get(\"https://www.rockandice.com\").then(function (res) {\n          var data = [];\n          var $ = cheerio.load(res.data);\n          $(\".ext_height\").each(function (i, element) {\n            //  console.log($(this).children(\"div\").children(\"a\").children(\"img\").attr(\"src\"))\n            // console.log($(this).children(\"div\").children(\"a\").attr(\"href\"))\n            if ($(this).children(\"div\").children(\"a\").attr(\"href\") === undefined) {\n              console.log(\"no good!\");\n            } else {\n              data.link.push($(this).children(\"div\").children(\"a\").attr(\"href\"));\n              data.image.push($(this).children(\"div\").children(\"a\").children(\"img\").attr(\"src\"));\n              console.log(data);\n            }\n          });\n          cb(data);\n        });\n        break;\n\n      case \"ny times\":\n        console.log(\"Ny Times Condition pinged!\");\n        return axios.get(\"https://www.nytimes.com/section/politics\").then(function (res) {\n          var data = [];\n          var $ = cheerio.load(res.data);\n          $('.css-ye6x8s').each(function (e, i) {\n            console.log($(this).children('div').children('div').children('a').attr(\"href\"));\n          });\n        });\n    }\n  }\n};","map":{"version":3,"sources":["/Users/justin/Desktop/facebookapp/src/utils/API.js"],"names":["axios","require","cheerio","module","exports","getRandomProfile","get","getListOfPeople","scrapeArticles","site","cb","console","log","data","link","image","then","res","$","load","each","i","element","children","attr","undefined","push","e"],"mappings":"AACA,IAAIA,KAAK,GAACC,OAAO,CAAC,OAAD,CAAjB;;AACA,IAAIC,OAAO,GAACD,OAAO,CAAC,SAAD,CAAnB;;AAGAE,MAAM,CAACC,OAAP,GAAe;AAEXC,EAAAA,gBAAgB,EAAC,4BAAU;AACvB,WAAOL,KAAK,CAACM,GAAN,CAAU,4BAAV,CAAP;AACH,GAJU;AAMXC,EAAAA,eAAe,EAAC,2BAAU;AACtB,WAAOP,KAAK,CAACM,GAAN,CAAU,uCAAV,CAAP;AACH,GARU;AAUX;AACA;AACA;AACA;AAEAE,EAAAA,cAAc,EAAC,wBAASC,IAAT,EAAcC,EAAd,EAAiB;AAC5BC,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAWH,IAAvB;AACA,QAAII,IAAI,GAAC;AACLC,MAAAA,IAAI,EAAC,EADA;AAELC,MAAAA,KAAK,EAAC;AAFD,KAAT;;AAIA,YAAON,IAAP;AAEI,WAAK,UAAL;AACA,eAEIT,KAAK,CAACM,GAAN,CAAU,4BAAV,EACPU,IADO,CACF,UAAAC,GAAG,EAAE;AACP,cAAIJ,IAAI,GAAC,EAAT;AACA,cAAIK,CAAC,GAAChB,OAAO,CAACiB,IAAR,CAAaF,GAAG,CAACJ,IAAjB,CAAN;AAEAK,UAAAA,CAAC,CAAC,aAAD,CAAD,CAAiBE,IAAjB,CAAsB,UAASC,CAAT,EAAWC,OAAX,EAAmB;AACvC;AACC;AACA,gBAAGJ,CAAC,CAAC,IAAD,CAAD,CAAQK,QAAR,CAAiB,KAAjB,EAAwBA,QAAxB,CAAiC,GAAjC,EAAsCC,IAAtC,CAA2C,MAA3C,MAAuDC,SAA1D,EAAoE;AAChEd,cAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACH,aAFD,MAGI;AACAC,cAAAA,IAAI,CAACC,IAAL,CAAUY,IAAV,CAAeR,CAAC,CAAC,IAAD,CAAD,CAAQK,QAAR,CAAiB,KAAjB,EAAwBA,QAAxB,CAAiC,GAAjC,EAAsCC,IAAtC,CAA2C,MAA3C,CAAf;AACAX,cAAAA,IAAI,CAACE,KAAL,CAAWW,IAAX,CAAgBR,CAAC,CAAC,IAAD,CAAD,CAAQK,QAAR,CAAiB,KAAjB,EAAwBA,QAAxB,CAAiC,GAAjC,EAAsCA,QAAtC,CAA+C,KAA/C,EAAsDC,IAAtD,CAA2D,KAA3D,CAAhB;AACDb,cAAAA,OAAO,CAACC,GAAR,CAAYC,IAAZ;AACF;AAEH,WAZD;AAaAH,UAAAA,EAAE,CAACG,IAAD,CAAF;AACH,SAnBO,CAFJ;AAwBA;;AAEA,WAAK,UAAL;AACAF,QAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ;AACA,eAAOZ,KAAK,CAACM,GAAN,CAAU,0CAAV,EACNU,IADM,CACD,UAAAC,GAAG,EAAE;AACP,cAAIJ,IAAI,GAAC,EAAT;AACA,cAAIK,CAAC,GAAChB,OAAO,CAACiB,IAAR,CAAaF,GAAG,CAACJ,IAAjB,CAAN;AACAK,UAAAA,CAAC,CAAC,aAAD,CAAD,CAAiBE,IAAjB,CAAsB,UAASO,CAAT,EAAWN,CAAX,EAAa;AAChCV,YAAAA,OAAO,CAACC,GAAR,CAAYM,CAAC,CAAC,IAAD,CAAD,CAAQK,QAAR,CAAiB,KAAjB,EAAwBA,QAAxB,CAAiC,KAAjC,EAAwCA,QAAxC,CAAiD,GAAjD,EAAsDC,IAAtD,CAA2D,MAA3D,CAAZ;AACF,WAFD;AAGH,SAPM,CAAP;AA/BJ;AA4CH;AAjEU,CAAf","sourcesContent":["\nvar axios=require('axios');\nvar cheerio=require('cheerio')\n\n\nmodule.exports={\n\n    getRandomProfile:function(){\n        return axios.get(\"https://randomuser.me/api/\")\n    },\n\n    getListOfPeople:function(){\n        return axios.get(\"https://randomuser.me/api/&results=10\")\n    },\n\n    // sendSite:function(site){\n    //     console.log(site)\n    //     this.scrapeArticles(site)\n    // },\n\n    scrapeArticles:function(site,cb){\n        console.log(\"site: \" + site)\n        var data={\n            link:[],\n            image:[]\n        }\n        switch(site){\n\n            case \"climbing\":\n            return(\n            \n                axios.get(\"https://www.rockandice.com\")\n        .then(res=>{\n            var data=[];\n            var $=cheerio.load(res.data)\n\n            $(\".ext_height\").each(function(i,element){\n              //  console.log($(this).children(\"div\").children(\"a\").children(\"img\").attr(\"src\"))\n               // console.log($(this).children(\"div\").children(\"a\").attr(\"href\"))\n               if($(this).children(\"div\").children(\"a\").attr(\"href\") === undefined){\n                   console.log(\"no good!\")\n               }\n               else{\n                   data.link.push($(this).children(\"div\").children(\"a\").attr(\"href\"))\n                   data.image.push($(this).children(\"div\").children(\"a\").children(\"img\").attr(\"src\"))\n                  console.log(data)\n               }\n              \n            })\n            cb(data)\n        })\n\n            )\n            break;\n\n            case \"ny times\":\n            console.log(\"Ny Times Condition pinged!\")\n            return axios.get(\"https://www.nytimes.com/section/politics\")\n            .then(res=>{\n                var data=[];\n                var $=cheerio.load(res.data)\n                $('.css-ye6x8s').each(function(e,i){\n                   console.log($(this).children('div').children('div').children('a').attr(\"href\"))\n                })\n            })\n\n          \n        } \n        \n     \n    }\n}"]},"metadata":{},"sourceType":"module"}