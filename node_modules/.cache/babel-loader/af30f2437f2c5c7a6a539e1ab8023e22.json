{"ast":null,"code":"var axios = require('axios');\n\nvar cheerio = require('cheerio');\n\nmodule.exports = {\n  getRandomProfile: function getRandomProfile() {\n    return axios.get(\"https://randomuser.me/api/\");\n  },\n  getListOfPeople: function getListOfPeople() {\n    return axios.get(\"https://randomuser.me/api/&results=10\");\n  },\n  // sendSite:function(site){\n  //     console.log(site)\n  //     this.scrapeArticles(site)\n  // },\n  scrapeArticles: function scrapeArticles(site, cb) {\n    console.log(\"site: \" + site);\n\n    if (site === \"\") {\n      site = \"climbing\";\n    }\n\n    switch (site) {\n      case \"climbing\":\n        return axios.get(\"https://www.rockandice.com\").then(function (res) {\n          var data = {\n            link: [],\n            image: []\n          };\n          var $ = cheerio.load(res.data);\n          $(\".ext_height\").each(function (i, element) {\n            //  console.log($(this).children(\"div\").children(\"a\").children(\"img\").attr(\"src\"))\n            // console.log($(this).children(\"div\").children(\"a\").attr(\"href\"))\n            if ($(this).children(\"div\").children(\"a\").attr(\"href\") === undefined) {\n              console.log(\"no good!\");\n            } else {\n              data.link.push($(this).children(\"div\").children(\"a\").attr(\"href\"));\n              data.image.push($(this).children(\"div\").children(\"a\").children(\"img\").attr(\"src\"));\n              console.log(data);\n            }\n          });\n          cb(data);\n        });\n        break;\n\n      /* block by CORS but pretty sure its good */\n\n      /* FUTURE PROJECT. CHEERIO THE FUCk outta NYTIMES, its doable!! */\n\n      case \"ny times\":\n        console.log(\"Ny Times Condition pinged!\");\n        return axios.get(\"https://www.nytimes.com/section/politics\").then(function (res) {\n          var data = [];\n          var $ = cheerio.load(res.data);\n          $('.css-ye6x8s').each(function (e, i) {\n            console.log($(this).children('div').children('div').children('a').attr(\"href\"));\n          });\n        });\n    }\n  }\n};","map":{"version":3,"sources":["/Users/justin/Desktop/facebookapp/src/utils/API.js"],"names":["axios","require","cheerio","module","exports","getRandomProfile","get","getListOfPeople","scrapeArticles","site","cb","console","log","then","res","data","link","image","$","load","each","i","element","children","attr","undefined","push","e"],"mappings":"AACA,IAAIA,KAAK,GAACC,OAAO,CAAC,OAAD,CAAjB;;AACA,IAAIC,OAAO,GAACD,OAAO,CAAC,SAAD,CAAnB;;AAGAE,MAAM,CAACC,OAAP,GAAe;AAEXC,EAAAA,gBAAgB,EAAC,4BAAU;AACvB,WAAOL,KAAK,CAACM,GAAN,CAAU,4BAAV,CAAP;AACH,GAJU;AAMXC,EAAAA,eAAe,EAAC,2BAAU;AACtB,WAAOP,KAAK,CAACM,GAAN,CAAU,uCAAV,CAAP;AACH,GARU;AAUX;AACA;AACA;AACA;AAEAE,EAAAA,cAAc,EAAC,wBAASC,IAAT,EAAcC,EAAd,EAAiB;AAC5BC,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAWH,IAAvB;;AACA,QAAGA,IAAI,KAAK,EAAZ,EAAe;AACXA,MAAAA,IAAI,GAAC,UAAL;AACH;;AAED,YAAOA,IAAP;AAEI,WAAK,UAAL;AACA,eAEIT,KAAK,CAACM,GAAN,CAAU,4BAAV,EACPO,IADO,CACF,UAAAC,GAAG,EAAE;AACP,cAAIC,IAAI,GAAC;AACLC,YAAAA,IAAI,EAAC,EADA;AAELC,YAAAA,KAAK,EAAC;AAFD,WAAT;AAIA,cAAIC,CAAC,GAAChB,OAAO,CAACiB,IAAR,CAAaL,GAAG,CAACC,IAAjB,CAAN;AAEAG,UAAAA,CAAC,CAAC,aAAD,CAAD,CAAiBE,IAAjB,CAAsB,UAASC,CAAT,EAAWC,OAAX,EAAmB;AACvC;AACC;AACA,gBAAGJ,CAAC,CAAC,IAAD,CAAD,CAAQK,QAAR,CAAiB,KAAjB,EAAwBA,QAAxB,CAAiC,GAAjC,EAAsCC,IAAtC,CAA2C,MAA3C,MAAuDC,SAA1D,EAAoE;AAChEd,cAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACH,aAFD,MAGI;AACAG,cAAAA,IAAI,CAACC,IAAL,CAAUU,IAAV,CAAeR,CAAC,CAAC,IAAD,CAAD,CAAQK,QAAR,CAAiB,KAAjB,EAAwBA,QAAxB,CAAiC,GAAjC,EAAsCC,IAAtC,CAA2C,MAA3C,CAAf;AACAT,cAAAA,IAAI,CAACE,KAAL,CAAWS,IAAX,CAAgBR,CAAC,CAAC,IAAD,CAAD,CAAQK,QAAR,CAAiB,KAAjB,EAAwBA,QAAxB,CAAiC,GAAjC,EAAsCA,QAAtC,CAA+C,KAA/C,EAAsDC,IAAtD,CAA2D,KAA3D,CAAhB;AACDb,cAAAA,OAAO,CAACC,GAAR,CAAYG,IAAZ;AACF;AAEH,WAZD;AAaAL,UAAAA,EAAE,CAACK,IAAD,CAAF;AACH,SAtBO,CAFJ;AA2BA;;AAEA;;AACA;;AACA,WAAK,UAAL;AACAJ,QAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ;AACA,eAAOZ,KAAK,CAACM,GAAN,CAAU,0CAAV,EACNO,IADM,CACD,UAAAC,GAAG,EAAE;AACP,cAAIC,IAAI,GAAC,EAAT;AACA,cAAIG,CAAC,GAAChB,OAAO,CAACiB,IAAR,CAAaL,GAAG,CAACC,IAAjB,CAAN;AACAG,UAAAA,CAAC,CAAC,aAAD,CAAD,CAAiBE,IAAjB,CAAsB,UAASO,CAAT,EAAWN,CAAX,EAAa;AAChCV,YAAAA,OAAO,CAACC,GAAR,CAAYM,CAAC,CAAC,IAAD,CAAD,CAAQK,QAAR,CAAiB,KAAjB,EAAwBA,QAAxB,CAAiC,KAAjC,EAAwCA,QAAxC,CAAiD,GAAjD,EAAsDC,IAAtD,CAA2D,MAA3D,CAAZ;AACF,WAFD;AAGH,SAPM,CAAP;AApCJ;AAiDH;AAtEU,CAAf","sourcesContent":["\nvar axios=require('axios');\nvar cheerio=require('cheerio')\n\n\nmodule.exports={\n\n    getRandomProfile:function(){\n        return axios.get(\"https://randomuser.me/api/\")\n    },\n\n    getListOfPeople:function(){\n        return axios.get(\"https://randomuser.me/api/&results=10\")\n    },\n\n    // sendSite:function(site){\n    //     console.log(site)\n    //     this.scrapeArticles(site)\n    // },\n\n    scrapeArticles:function(site,cb){\n        console.log(\"site: \" + site)\n        if(site === \"\"){\n            site=\"climbing\"\n        }\n     \n        switch(site){\n\n            case \"climbing\":\n            return(\n            \n                axios.get(\"https://www.rockandice.com\")\n        .then(res=>{\n            var data={\n                link:[],\n                image:[]\n            }\n            var $=cheerio.load(res.data)\n\n            $(\".ext_height\").each(function(i,element){\n              //  console.log($(this).children(\"div\").children(\"a\").children(\"img\").attr(\"src\"))\n               // console.log($(this).children(\"div\").children(\"a\").attr(\"href\"))\n               if($(this).children(\"div\").children(\"a\").attr(\"href\") === undefined){\n                   console.log(\"no good!\")\n               }\n               else{\n                   data.link.push($(this).children(\"div\").children(\"a\").attr(\"href\"))\n                   data.image.push($(this).children(\"div\").children(\"a\").children(\"img\").attr(\"src\"))\n                  console.log(data)\n               }\n              \n            })\n            cb(data)\n        })\n\n            )\n            break;\n\n            /* block by CORS but pretty sure its good */\n            /* FUTURE PROJECT. CHEERIO THE FUCk outta NYTIMES, its doable!! */\n            case \"ny times\":\n            console.log(\"Ny Times Condition pinged!\")\n            return axios.get(\"https://www.nytimes.com/section/politics\")\n            .then(res=>{\n                var data=[];\n                var $=cheerio.load(res.data)\n                $('.css-ye6x8s').each(function(e,i){\n                   console.log($(this).children('div').children('div').children('a').attr(\"href\"))\n                })\n            })\n\n          \n        } \n        \n     \n    }\n}"]},"metadata":{},"sourceType":"module"}